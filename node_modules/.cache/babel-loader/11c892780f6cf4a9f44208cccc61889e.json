{"ast":null,"code":"var _jsxFileName = \"/Users/s0g03gv/Documents/MOM/covid19india-react/src/components/minigraph.js\";\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport * as d3 from 'd3';\n\nfunction Minigraph(props) {\n  const [timeseries, setTimeseries] = useState([]);\n  const graphElement1 = useRef(null);\n  const graphElement2 = useRef(null);\n  const graphElement3 = useRef(null);\n  const graphElement4 = useRef(null);\n  useEffect(() => {\n    if (props.timeseries.length > 1) {\n      setTimeseries(props.timeseries.slice(props.timeseries.length - 20));\n    }\n  }, [props.timeseries]);\n  const graphData = useCallback(timeseries => {\n    if (timeseries.length <= 1) return 0;\n    const data = timeseries;\n    const svg1 = d3.select(graphElement1.current);\n    const margin = {\n      top: 30,\n      right: 10,\n      bottom: 30,\n      left: 0\n    };\n    const width = 100 - margin.left - margin.right;\n    const height = 100 - margin.top - margin.bottom;\n    const svg2 = d3.select(graphElement2.current);\n    const svg3 = d3.select(graphElement3.current);\n    const svg4 = d3.select(graphElement4.current);\n    const x = d3.scaleTime().domain(d3.extent(data, function (d) {\n      return new Date(d['date'] + '2020');\n    })).range([0, width]);\n    const y1 = d3.scaleLinear().domain([0, d3.max(data, function (d) {\n      return +d['dailyconfirmed'];\n    })]).range([height, 0]);\n    const path1 = svg1.append('path').datum(data).attr('fill', 'none').attr('stroke', '#ff073a99').attr('stroke-width', 3).attr('cursor', 'pointer').attr('d', d3.line().x(function (d) {\n      return x(new Date(d['date'] + '2020'));\n    }).y(function (d, i) {\n      return y1(d['dailyconfirmed']);\n    }).curve(d3.curveCardinal));\n    const totalLength1 = path1.node().getTotalLength();\n    path1.attr('stroke-dasharray', totalLength1 + ' ' + totalLength1).attr('stroke-dashoffset', totalLength1).transition().duration(props.animate ? 2000 : 0).attr('stroke-dashoffset', 0);\n    svg1.selectAll('.dot').data(data.slice(data.length - 1)).enter().append('circle').attr('fill', '#ff073a').attr('stroke', '#ff073a').attr('r', 2).attr('cursor', 'pointer').attr('cx', function (d) {\n      return x(new Date(d['date'] + '2020'));\n    }).attr('cy', function (d) {\n      return y1(d['dailyconfirmed']);\n    }).on('mouseover', d => {\n      d3.select(d3.event.target).attr('r', '5');\n    }).on('mouseout', d => {\n      d3.select(d3.event.target).attr('r', '2');\n    }).style('opacity', 0).transition().duration(props.animate ? 3000 : 0).style('opacity', 1);\n    const path2 = svg2.append('path').datum(data).attr('fill', 'none').attr('cursor', 'pointer').attr('stroke', '#007bff99').attr('stroke-width', 3).attr('cursor', 'pointer').attr('cursor', 'pointer').attr('d', d3.line().x(function (d) {\n      return x(new Date(d['date'] + '2020'));\n    }).y(function (d, i) {\n      if (i === 0) {\n        return y1(d['dailyconfirmed'] - d['dailyrecovered'] - d['dailydeceased']);\n      } else {\n        return y1(d['dailyconfirmed'] - d['dailyrecovered'] - d['dailydeceased']);\n      }\n    }).curve(d3.curveCardinal));\n    const totalLength2 = path2.node().getTotalLength();\n    path2.attr('stroke-dasharray', totalLength2 + ' ' + totalLength2).attr('stroke-dashoffset', totalLength2).transition().duration(props.animate ? 2000 : 0).attr('stroke-dashoffset', 0);\n    svg2.selectAll('.dot').data(data.slice(data.length - 1)).enter().append('circle').attr('fill', '#007bff').attr('stroke', '#007bff').attr('r', 2).attr('cursor', 'pointer').attr('cx', function (d) {\n      return x(new Date(d['date'] + '2020'));\n    }).attr('cy', function (d) {\n      /* const today =\n      data[data.length - 1]['dailyconfirmed'] -\n      data[data.length - 1]['dailyrecovered'] -\n      data[data.length - 1]['dailydeceased'];\n      const yesterday =\n      data[data.length - 2]['dailyconfirmed'] -\n      data[data.length - 2]['dailyrecovered'] -\n      data[data.length - 2]['dailydeceased'];*/\n      return y1(d['dailyconfirmed'] - d['dailyrecovered'] - d['dailydeceased']);\n    }).on('mouseover', d => {\n      d3.select(d3.event.target).attr('r', '5');\n    }).on('mouseout', d => {\n      d3.select(d3.event.target).attr('r', '2');\n    }).style('opacity', 0).transition().duration(props.animate ? 3000 : 0).style('opacity', 1);\n    const path3 = svg3.append('path').datum(data).attr('fill', 'none').attr('stroke', '#28a74599').attr('stroke-width', 3).attr('cursor', 'pointer').attr('d', d3.line().x(function (d) {\n      return x(new Date(d['date'] + '2020'));\n    }).y(function (d, i) {\n      if (i === 0) {\n        return y1(d['dailyrecovered']);\n      } else {\n        return y1(d['dailyrecovered']);\n      }\n    }).curve(d3.curveCardinal));\n    const totalLength3 = path1.node().getTotalLength();\n    path3.attr('stroke-dasharray', totalLength3 + ' ' + totalLength3).attr('stroke-dashoffset', totalLength3).transition().duration(props.animate ? 2000 : 0).attr('stroke-dashoffset', 0);\n    svg3.selectAll('.dot').data(data.slice(data.length - 1)).enter().append('circle').attr('fill', '#28a745').attr('stroke', '#28a745').attr('r', 2).attr('cursor', 'pointer').attr('cx', function (d) {\n      return x(new Date(d['date'] + '2020'));\n    }).attr('cy', function (d) {\n      return y1(d['dailyrecovered']);\n    }).on('mouseover', d => {\n      d3.select(d3.event.target).attr('r', '5');\n    }).on('mouseout', d => {\n      d3.select(d3.event.target).attr('r', '2');\n    }).style('opacity', 0).transition().duration(props.animate ? 3000 : 0).style('opacity', 1);\n    const path4 = svg4.append('path').datum(data).attr('fill', 'none').attr('cursor', 'pointer').attr('stroke', '#6c757d99').attr('stroke-width', 3).attr('cursor', 'pointer').attr('cursor', 'pointer').attr('d', d3.line().x(function (d) {\n      return x(new Date(d['date'] + '2020'));\n    }).y(function (d, i) {\n      if (i === 0) {\n        return y1(d['dailydeceased']);\n      } else {\n        return y1(d['dailydeceased']);\n      }\n    }).curve(d3.curveCardinal));\n    const totalLength4 = path4.node().getTotalLength();\n    path4.attr('stroke-dasharray', totalLength4 + ' ' + totalLength4).attr('stroke-dashoffset', totalLength4).transition().duration(props.animate ? 2000 : 0).attr('stroke-dashoffset', 0);\n    svg4.selectAll('.dot').data(data.slice(data.length - 1)).enter().append('circle').attr('fill', '#6c757d').attr('stroke', '#6c757d').attr('r', 2).attr('cursor', 'pointer').attr('cx', function (d) {\n      return x(new Date(d['date'] + '2020'));\n    }).attr('cy', function (d) {\n      return y1(d['dailydeceased']);\n    }).on('mouseover', d => {\n      d3.select(d3.event.target).attr('r', '5');\n    }).on('mouseout', d => {\n      d3.select(d3.event.target).attr('r', '2');\n    }).style('opacity', 0).transition().duration(props.animate ? 3000 : 0).style('opacity', 1);\n  }, [props.animate]);\n  useEffect(() => {\n    graphData(timeseries);\n  }, [timeseries, graphData]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Minigraph\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"svg-parent fadeInUp\",\n    style: {\n      animationDelay: '0.6s'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    ref: graphElement1,\n    width: \"100\",\n    height: \"100\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"svg-parent is-blue fadeInUp\",\n    style: {\n      animationDelay: '0.7s'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    ref: graphElement2,\n    width: \"100\",\n    height: \"100\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"svg-parent is-green fadeInUp\",\n    style: {\n      animationDelay: '0.8s'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    ref: graphElement3,\n    width: \"100\",\n    height: \"100\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"svg-parent is-gray fadeInUp\",\n    style: {\n      animationDelay: '0.9s'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    ref: graphElement4,\n    width: \"100\",\n    height: \"100\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default Minigraph;","map":{"version":3,"sources":["/Users/s0g03gv/Documents/MOM/covid19india-react/src/components/minigraph.js"],"names":["React","useState","useEffect","useRef","useCallback","d3","Minigraph","props","timeseries","setTimeseries","graphElement1","graphElement2","graphElement3","graphElement4","length","slice","graphData","data","svg1","select","current","margin","top","right","bottom","left","width","height","svg2","svg3","svg4","x","scaleTime","domain","extent","d","Date","range","y1","scaleLinear","max","path1","append","datum","attr","line","y","i","curve","curveCardinal","totalLength1","node","getTotalLength","transition","duration","animate","selectAll","enter","on","event","target","style","path2","totalLength2","path3","totalLength3","path4","totalLength4","animationDelay"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,MAApC,EAA4CC,WAA5C,QAA8D,OAA9D;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;;AAEA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AACxB,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BR,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAMS,aAAa,GAAGP,MAAM,CAAC,IAAD,CAA5B;AACA,QAAMQ,aAAa,GAAGR,MAAM,CAAC,IAAD,CAA5B;AACA,QAAMS,aAAa,GAAGT,MAAM,CAAC,IAAD,CAA5B;AACA,QAAMU,aAAa,GAAGV,MAAM,CAAC,IAAD,CAA5B;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIK,KAAK,CAACC,UAAN,CAAiBM,MAAjB,GAA0B,CAA9B,EAAiC;AAC/BL,MAAAA,aAAa,CAACF,KAAK,CAACC,UAAN,CAAiBO,KAAjB,CAAuBR,KAAK,CAACC,UAAN,CAAiBM,MAAjB,GAA0B,EAAjD,CAAD,CAAb;AACD;AACF,GAJQ,EAIN,CAACP,KAAK,CAACC,UAAP,CAJM,CAAT;AAMA,QAAMQ,SAAS,GAAGZ,WAAW,CAC1BI,UAAD,IAAgB;AACd,QAAIA,UAAU,CAACM,MAAX,IAAqB,CAAzB,EAA4B,OAAO,CAAP;AAC5B,UAAMG,IAAI,GAAGT,UAAb;AACA,UAAMU,IAAI,GAAGb,EAAE,CAACc,MAAH,CAAUT,aAAa,CAACU,OAAxB,CAAb;AACA,UAAMC,MAAM,GAAG;AAACC,MAAAA,GAAG,EAAE,EAAN;AAAUC,MAAAA,KAAK,EAAE,EAAjB;AAAqBC,MAAAA,MAAM,EAAE,EAA7B;AAAiCC,MAAAA,IAAI,EAAE;AAAvC,KAAf;AACA,UAAMC,KAAK,GAAG,MAAML,MAAM,CAACI,IAAb,GAAoBJ,MAAM,CAACE,KAAzC;AACA,UAAMI,MAAM,GAAG,MAAMN,MAAM,CAACC,GAAb,GAAmBD,MAAM,CAACG,MAAzC;AAEA,UAAMI,IAAI,GAAGvB,EAAE,CAACc,MAAH,CAAUR,aAAa,CAACS,OAAxB,CAAb;AACA,UAAMS,IAAI,GAAGxB,EAAE,CAACc,MAAH,CAAUP,aAAa,CAACQ,OAAxB,CAAb;AACA,UAAMU,IAAI,GAAGzB,EAAE,CAACc,MAAH,CAAUN,aAAa,CAACO,OAAxB,CAAb;AAEA,UAAMW,CAAC,GAAG1B,EAAE,CACT2B,SADO,GAEPC,MAFO,CAGN5B,EAAE,CAAC6B,MAAH,CAAUjB,IAAV,EAAgB,UAAUkB,CAAV,EAAa;AAC3B,aAAO,IAAIC,IAAJ,CAASD,CAAC,CAAC,MAAD,CAAD,GAAY,MAArB,CAAP;AACD,KAFD,CAHM,EAOPE,KAPO,CAOD,CAAC,CAAD,EAAIX,KAAJ,CAPC,CAAV;AASA,UAAMY,EAAE,GAAGjC,EAAE,CACVkC,WADQ,GAERN,MAFQ,CAED,CACN,CADM,EAEN5B,EAAE,CAACmC,GAAH,CAAOvB,IAAP,EAAa,UAAUkB,CAAV,EAAa;AACxB,aAAO,CAACA,CAAC,CAAC,gBAAD,CAAT;AACD,KAFD,CAFM,CAFC,EAQRE,KARQ,CAQF,CAACV,MAAD,EAAS,CAAT,CARE,CAAX;AAUA,UAAMc,KAAK,GAAGvB,IAAI,CACfwB,MADW,CACJ,MADI,EAEXC,KAFW,CAEL1B,IAFK,EAGX2B,IAHW,CAGN,MAHM,EAGE,MAHF,EAIXA,IAJW,CAIN,QAJM,EAII,WAJJ,EAKXA,IALW,CAKN,cALM,EAKU,CALV,EAMXA,IANW,CAMN,QANM,EAMI,SANJ,EAOXA,IAPW,CAQV,GARU,EASVvC,EAAE,CACCwC,IADH,GAEGd,CAFH,CAEK,UAAUI,CAAV,EAAa;AACd,aAAOJ,CAAC,CAAC,IAAIK,IAAJ,CAASD,CAAC,CAAC,MAAD,CAAD,GAAY,MAArB,CAAD,CAAR;AACD,KAJH,EAKGW,CALH,CAKK,UAAUX,CAAV,EAAaY,CAAb,EAAgB;AACjB,aAAOT,EAAE,CAACH,CAAC,CAAC,gBAAD,CAAF,CAAT;AACD,KAPH,EAQGa,KARH,CAQS3C,EAAE,CAAC4C,aARZ,CATU,CAAd;AAoBA,UAAMC,YAAY,GAAGT,KAAK,CAACU,IAAN,GAAaC,cAAb,EAArB;AACAX,IAAAA,KAAK,CACFG,IADH,CACQ,kBADR,EAC4BM,YAAY,GAAG,GAAf,GAAqBA,YADjD,EAEGN,IAFH,CAEQ,mBAFR,EAE6BM,YAF7B,EAGGG,UAHH,GAIGC,QAJH,CAIY/C,KAAK,CAACgD,OAAN,GAAgB,IAAhB,GAAuB,CAJnC,EAKGX,IALH,CAKQ,mBALR,EAK6B,CAL7B;AAOA1B,IAAAA,IAAI,CACDsC,SADH,CACa,MADb,EAEGvC,IAFH,CAEQA,IAAI,CAACF,KAAL,CAAWE,IAAI,CAACH,MAAL,GAAc,CAAzB,CAFR,EAGG2C,KAHH,GAIGf,MAJH,CAIU,QAJV,EAKGE,IALH,CAKQ,MALR,EAKgB,SALhB,EAMGA,IANH,CAMQ,QANR,EAMkB,SANlB,EAOGA,IAPH,CAOQ,GAPR,EAOa,CAPb,EAQGA,IARH,CAQQ,QARR,EAQkB,SARlB,EASGA,IATH,CASQ,IATR,EASc,UAAUT,CAAV,EAAa;AACvB,aAAOJ,CAAC,CAAC,IAAIK,IAAJ,CAASD,CAAC,CAAC,MAAD,CAAD,GAAY,MAArB,CAAD,CAAR;AACD,KAXH,EAYGS,IAZH,CAYQ,IAZR,EAYc,UAAUT,CAAV,EAAa;AACvB,aAAOG,EAAE,CAACH,CAAC,CAAC,gBAAD,CAAF,CAAT;AACD,KAdH,EAeGuB,EAfH,CAeM,WAfN,EAeoBvB,CAAD,IAAO;AACtB9B,MAAAA,EAAE,CAACc,MAAH,CAAUd,EAAE,CAACsD,KAAH,CAASC,MAAnB,EAA2BhB,IAA3B,CAAgC,GAAhC,EAAqC,GAArC;AACD,KAjBH,EAkBGc,EAlBH,CAkBM,UAlBN,EAkBmBvB,CAAD,IAAO;AACrB9B,MAAAA,EAAE,CAACc,MAAH,CAAUd,EAAE,CAACsD,KAAH,CAASC,MAAnB,EAA2BhB,IAA3B,CAAgC,GAAhC,EAAqC,GAArC;AACD,KApBH,EAqBGiB,KArBH,CAqBS,SArBT,EAqBoB,CArBpB,EAsBGR,UAtBH,GAuBGC,QAvBH,CAuBY/C,KAAK,CAACgD,OAAN,GAAgB,IAAhB,GAAuB,CAvBnC,EAwBGM,KAxBH,CAwBS,SAxBT,EAwBoB,CAxBpB;AA0BA,UAAMC,KAAK,GAAGlC,IAAI,CACfc,MADW,CACJ,MADI,EAEXC,KAFW,CAEL1B,IAFK,EAGX2B,IAHW,CAGN,MAHM,EAGE,MAHF,EAIXA,IAJW,CAIN,QAJM,EAII,SAJJ,EAKXA,IALW,CAKN,QALM,EAKI,WALJ,EAMXA,IANW,CAMN,cANM,EAMU,CANV,EAOXA,IAPW,CAON,QAPM,EAOI,SAPJ,EAQXA,IARW,CAQN,QARM,EAQI,SARJ,EASXA,IATW,CAUV,GAVU,EAWVvC,EAAE,CACCwC,IADH,GAEGd,CAFH,CAEK,UAAUI,CAAV,EAAa;AACd,aAAOJ,CAAC,CAAC,IAAIK,IAAJ,CAASD,CAAC,CAAC,MAAD,CAAD,GAAY,MAArB,CAAD,CAAR;AACD,KAJH,EAKGW,CALH,CAKK,UAAUX,CAAV,EAAaY,CAAb,EAAgB;AACjB,UAAIA,CAAC,KAAK,CAAV,EAAa;AACX,eAAOT,EAAE,CACPH,CAAC,CAAC,gBAAD,CAAD,GAAsBA,CAAC,CAAC,gBAAD,CAAvB,GAA4CA,CAAC,CAAC,eAAD,CADtC,CAAT;AAGD,OAJD,MAIO;AACL,eAAOG,EAAE,CACPH,CAAC,CAAC,gBAAD,CAAD,GAAsBA,CAAC,CAAC,gBAAD,CAAvB,GAA4CA,CAAC,CAAC,eAAD,CADtC,CAAT;AAGD;AACF,KAfH,EAgBGa,KAhBH,CAgBS3C,EAAE,CAAC4C,aAhBZ,CAXU,CAAd;AA8BA,UAAMc,YAAY,GAAGD,KAAK,CAACX,IAAN,GAAaC,cAAb,EAArB;AACAU,IAAAA,KAAK,CACFlB,IADH,CACQ,kBADR,EAC4BmB,YAAY,GAAG,GAAf,GAAqBA,YADjD,EAEGnB,IAFH,CAEQ,mBAFR,EAE6BmB,YAF7B,EAGGV,UAHH,GAIGC,QAJH,CAIY/C,KAAK,CAACgD,OAAN,GAAgB,IAAhB,GAAuB,CAJnC,EAKGX,IALH,CAKQ,mBALR,EAK6B,CAL7B;AAOAhB,IAAAA,IAAI,CACD4B,SADH,CACa,MADb,EAEGvC,IAFH,CAEQA,IAAI,CAACF,KAAL,CAAWE,IAAI,CAACH,MAAL,GAAc,CAAzB,CAFR,EAGG2C,KAHH,GAIGf,MAJH,CAIU,QAJV,EAKGE,IALH,CAKQ,MALR,EAKgB,SALhB,EAMGA,IANH,CAMQ,QANR,EAMkB,SANlB,EAOGA,IAPH,CAOQ,GAPR,EAOa,CAPb,EAQGA,IARH,CAQQ,QARR,EAQkB,SARlB,EASGA,IATH,CASQ,IATR,EASc,UAAUT,CAAV,EAAa;AACvB,aAAOJ,CAAC,CAAC,IAAIK,IAAJ,CAASD,CAAC,CAAC,MAAD,CAAD,GAAY,MAArB,CAAD,CAAR;AACD,KAXH,EAYGS,IAZH,CAYQ,IAZR,EAYc,UAAUT,CAAV,EAAa;AACvB;;;;;;;;AAQA,aAAOG,EAAE,CACPH,CAAC,CAAC,gBAAD,CAAD,GAAsBA,CAAC,CAAC,gBAAD,CAAvB,GAA4CA,CAAC,CAAC,eAAD,CADtC,CAAT;AAGD,KAxBH,EAyBGuB,EAzBH,CAyBM,WAzBN,EAyBoBvB,CAAD,IAAO;AACtB9B,MAAAA,EAAE,CAACc,MAAH,CAAUd,EAAE,CAACsD,KAAH,CAASC,MAAnB,EAA2BhB,IAA3B,CAAgC,GAAhC,EAAqC,GAArC;AACD,KA3BH,EA4BGc,EA5BH,CA4BM,UA5BN,EA4BmBvB,CAAD,IAAO;AACrB9B,MAAAA,EAAE,CAACc,MAAH,CAAUd,EAAE,CAACsD,KAAH,CAASC,MAAnB,EAA2BhB,IAA3B,CAAgC,GAAhC,EAAqC,GAArC;AACD,KA9BH,EA+BGiB,KA/BH,CA+BS,SA/BT,EA+BoB,CA/BpB,EAgCGR,UAhCH,GAiCGC,QAjCH,CAiCY/C,KAAK,CAACgD,OAAN,GAAgB,IAAhB,GAAuB,CAjCnC,EAkCGM,KAlCH,CAkCS,SAlCT,EAkCoB,CAlCpB;AAoCA,UAAMG,KAAK,GAAGnC,IAAI,CACfa,MADW,CACJ,MADI,EAEXC,KAFW,CAEL1B,IAFK,EAGX2B,IAHW,CAGN,MAHM,EAGE,MAHF,EAIXA,IAJW,CAIN,QAJM,EAII,WAJJ,EAKXA,IALW,CAKN,cALM,EAKU,CALV,EAMXA,IANW,CAMN,QANM,EAMI,SANJ,EAOXA,IAPW,CAQV,GARU,EASVvC,EAAE,CACCwC,IADH,GAEGd,CAFH,CAEK,UAAUI,CAAV,EAAa;AACd,aAAOJ,CAAC,CAAC,IAAIK,IAAJ,CAASD,CAAC,CAAC,MAAD,CAAD,GAAY,MAArB,CAAD,CAAR;AACD,KAJH,EAKGW,CALH,CAKK,UAAUX,CAAV,EAAaY,CAAb,EAAgB;AACjB,UAAIA,CAAC,KAAK,CAAV,EAAa;AACX,eAAOT,EAAE,CAACH,CAAC,CAAC,gBAAD,CAAF,CAAT;AACD,OAFD,MAEO;AACL,eAAOG,EAAE,CAACH,CAAC,CAAC,gBAAD,CAAF,CAAT;AACD;AACF,KAXH,EAYGa,KAZH,CAYS3C,EAAE,CAAC4C,aAZZ,CATU,CAAd;AAwBA,UAAMgB,YAAY,GAAGxB,KAAK,CAACU,IAAN,GAAaC,cAAb,EAArB;AACAY,IAAAA,KAAK,CACFpB,IADH,CACQ,kBADR,EAC4BqB,YAAY,GAAG,GAAf,GAAqBA,YADjD,EAEGrB,IAFH,CAEQ,mBAFR,EAE6BqB,YAF7B,EAGGZ,UAHH,GAIGC,QAJH,CAIY/C,KAAK,CAACgD,OAAN,GAAgB,IAAhB,GAAuB,CAJnC,EAKGX,IALH,CAKQ,mBALR,EAK6B,CAL7B;AAOAf,IAAAA,IAAI,CACD2B,SADH,CACa,MADb,EAEGvC,IAFH,CAEQA,IAAI,CAACF,KAAL,CAAWE,IAAI,CAACH,MAAL,GAAc,CAAzB,CAFR,EAGG2C,KAHH,GAIGf,MAJH,CAIU,QAJV,EAKGE,IALH,CAKQ,MALR,EAKgB,SALhB,EAMGA,IANH,CAMQ,QANR,EAMkB,SANlB,EAOGA,IAPH,CAOQ,GAPR,EAOa,CAPb,EAQGA,IARH,CAQQ,QARR,EAQkB,SARlB,EASGA,IATH,CASQ,IATR,EASc,UAAUT,CAAV,EAAa;AACvB,aAAOJ,CAAC,CAAC,IAAIK,IAAJ,CAASD,CAAC,CAAC,MAAD,CAAD,GAAY,MAArB,CAAD,CAAR;AACD,KAXH,EAYGS,IAZH,CAYQ,IAZR,EAYc,UAAUT,CAAV,EAAa;AACvB,aAAOG,EAAE,CAACH,CAAC,CAAC,gBAAD,CAAF,CAAT;AACD,KAdH,EAeGuB,EAfH,CAeM,WAfN,EAeoBvB,CAAD,IAAO;AACtB9B,MAAAA,EAAE,CAACc,MAAH,CAAUd,EAAE,CAACsD,KAAH,CAASC,MAAnB,EAA2BhB,IAA3B,CAAgC,GAAhC,EAAqC,GAArC;AACD,KAjBH,EAkBGc,EAlBH,CAkBM,UAlBN,EAkBmBvB,CAAD,IAAO;AACrB9B,MAAAA,EAAE,CAACc,MAAH,CAAUd,EAAE,CAACsD,KAAH,CAASC,MAAnB,EAA2BhB,IAA3B,CAAgC,GAAhC,EAAqC,GAArC;AACD,KApBH,EAqBGiB,KArBH,CAqBS,SArBT,EAqBoB,CArBpB,EAsBGR,UAtBH,GAuBGC,QAvBH,CAuBY/C,KAAK,CAACgD,OAAN,GAAgB,IAAhB,GAAuB,CAvBnC,EAwBGM,KAxBH,CAwBS,SAxBT,EAwBoB,CAxBpB;AA0BA,UAAMK,KAAK,GAAGpC,IAAI,CACfY,MADW,CACJ,MADI,EAEXC,KAFW,CAEL1B,IAFK,EAGX2B,IAHW,CAGN,MAHM,EAGE,MAHF,EAIXA,IAJW,CAIN,QAJM,EAII,SAJJ,EAKXA,IALW,CAKN,QALM,EAKI,WALJ,EAMXA,IANW,CAMN,cANM,EAMU,CANV,EAOXA,IAPW,CAON,QAPM,EAOI,SAPJ,EAQXA,IARW,CAQN,QARM,EAQI,SARJ,EASXA,IATW,CAUV,GAVU,EAWVvC,EAAE,CACCwC,IADH,GAEGd,CAFH,CAEK,UAAUI,CAAV,EAAa;AACd,aAAOJ,CAAC,CAAC,IAAIK,IAAJ,CAASD,CAAC,CAAC,MAAD,CAAD,GAAY,MAArB,CAAD,CAAR;AACD,KAJH,EAKGW,CALH,CAKK,UAAUX,CAAV,EAAaY,CAAb,EAAgB;AACjB,UAAIA,CAAC,KAAK,CAAV,EAAa;AACX,eAAOT,EAAE,CAACH,CAAC,CAAC,eAAD,CAAF,CAAT;AACD,OAFD,MAEO;AACL,eAAOG,EAAE,CAACH,CAAC,CAAC,eAAD,CAAF,CAAT;AACD;AACF,KAXH,EAYGa,KAZH,CAYS3C,EAAE,CAAC4C,aAZZ,CAXU,CAAd;AA0BA,UAAMkB,YAAY,GAAGD,KAAK,CAACf,IAAN,GAAaC,cAAb,EAArB;AACAc,IAAAA,KAAK,CACFtB,IADH,CACQ,kBADR,EAC4BuB,YAAY,GAAG,GAAf,GAAqBA,YADjD,EAEGvB,IAFH,CAEQ,mBAFR,EAE6BuB,YAF7B,EAGGd,UAHH,GAIGC,QAJH,CAIY/C,KAAK,CAACgD,OAAN,GAAgB,IAAhB,GAAuB,CAJnC,EAKGX,IALH,CAKQ,mBALR,EAK6B,CAL7B;AAOAd,IAAAA,IAAI,CACD0B,SADH,CACa,MADb,EAEGvC,IAFH,CAEQA,IAAI,CAACF,KAAL,CAAWE,IAAI,CAACH,MAAL,GAAc,CAAzB,CAFR,EAGG2C,KAHH,GAIGf,MAJH,CAIU,QAJV,EAKGE,IALH,CAKQ,MALR,EAKgB,SALhB,EAMGA,IANH,CAMQ,QANR,EAMkB,SANlB,EAOGA,IAPH,CAOQ,GAPR,EAOa,CAPb,EAQGA,IARH,CAQQ,QARR,EAQkB,SARlB,EASGA,IATH,CASQ,IATR,EASc,UAAUT,CAAV,EAAa;AACvB,aAAOJ,CAAC,CAAC,IAAIK,IAAJ,CAASD,CAAC,CAAC,MAAD,CAAD,GAAY,MAArB,CAAD,CAAR;AACD,KAXH,EAYGS,IAZH,CAYQ,IAZR,EAYc,UAAUT,CAAV,EAAa;AACvB,aAAOG,EAAE,CAACH,CAAC,CAAC,eAAD,CAAF,CAAT;AACD,KAdH,EAeGuB,EAfH,CAeM,WAfN,EAeoBvB,CAAD,IAAO;AACtB9B,MAAAA,EAAE,CAACc,MAAH,CAAUd,EAAE,CAACsD,KAAH,CAASC,MAAnB,EAA2BhB,IAA3B,CAAgC,GAAhC,EAAqC,GAArC;AACD,KAjBH,EAkBGc,EAlBH,CAkBM,UAlBN,EAkBmBvB,CAAD,IAAO;AACrB9B,MAAAA,EAAE,CAACc,MAAH,CAAUd,EAAE,CAACsD,KAAH,CAASC,MAAnB,EAA2BhB,IAA3B,CAAgC,GAAhC,EAAqC,GAArC;AACD,KApBH,EAqBGiB,KArBH,CAqBS,SArBT,EAqBoB,CArBpB,EAsBGR,UAtBH,GAuBGC,QAvBH,CAuBY/C,KAAK,CAACgD,OAAN,GAAgB,IAAhB,GAAuB,CAvBnC,EAwBGM,KAxBH,CAwBS,SAxBT,EAwBoB,CAxBpB;AAyBD,GArR0B,EAsR3B,CAACtD,KAAK,CAACgD,OAAP,CAtR2B,CAA7B;AAyRArD,EAAAA,SAAS,CAAC,MAAM;AACdc,IAAAA,SAAS,CAACR,UAAD,CAAT;AACD,GAFQ,EAEN,CAACA,UAAD,EAAaQ,SAAb,CAFM,CAAT;AAIA,sBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAqC,IAAA,KAAK,EAAE;AAACoD,MAAAA,cAAc,EAAE;AAAjB,KAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAE1D,aADP;AAEE,IAAA,KAAK,EAAC,KAFR;AAGE,IAAA,MAAM,EAAC,KAHT;AAIE,IAAA,OAAO,EAAC,aAJV;AAKE,IAAA,mBAAmB,EAAC,eALtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAWE;AACE,IAAA,SAAS,EAAC,6BADZ;AAEE,IAAA,KAAK,EAAE;AAAC0D,MAAAA,cAAc,EAAE;AAAjB,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AACE,IAAA,GAAG,EAAEzD,aADP;AAEE,IAAA,KAAK,EAAC,KAFR;AAGE,IAAA,MAAM,EAAC,KAHT;AAIE,IAAA,OAAO,EAAC,aAJV;AAKE,IAAA,mBAAmB,EAAC,eALtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CAXF,eAwBE;AACE,IAAA,SAAS,EAAC,8BADZ;AAEE,IAAA,KAAK,EAAE;AAACyD,MAAAA,cAAc,EAAE;AAAjB,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AACE,IAAA,GAAG,EAAExD,aADP;AAEE,IAAA,KAAK,EAAC,KAFR;AAGE,IAAA,MAAM,EAAC,KAHT;AAIE,IAAA,OAAO,EAAC,aAJV;AAKE,IAAA,mBAAmB,EAAC,eALtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CAxBF,eAqCE;AACE,IAAA,SAAS,EAAC,6BADZ;AAEE,IAAA,KAAK,EAAE;AAACwD,MAAAA,cAAc,EAAE;AAAjB,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AACE,IAAA,GAAG,EAAEvD,aADP;AAEE,IAAA,KAAK,EAAC,KAFR;AAGE,IAAA,MAAM,EAAC,KAHT;AAIE,IAAA,OAAO,EAAC,aAJV;AAKE,IAAA,mBAAmB,EAAC,eALtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CArCF,CADF;AAoDD;;AAED,eAAeP,SAAf","sourcesContent":["import React, {useState, useEffect, useRef, useCallback} from 'react';\nimport * as d3 from 'd3';\n\nfunction Minigraph(props) {\n  const [timeseries, setTimeseries] = useState([]);\n  const graphElement1 = useRef(null);\n  const graphElement2 = useRef(null);\n  const graphElement3 = useRef(null);\n  const graphElement4 = useRef(null);\n\n  useEffect(() => {\n    if (props.timeseries.length > 1) {\n      setTimeseries(props.timeseries.slice(props.timeseries.length - 20));\n    }\n  }, [props.timeseries]);\n\n  const graphData = useCallback(\n    (timeseries) => {\n      if (timeseries.length <= 1) return 0;\n      const data = timeseries;\n      const svg1 = d3.select(graphElement1.current);\n      const margin = {top: 30, right: 10, bottom: 30, left: 0};\n      const width = 100 - margin.left - margin.right;\n      const height = 100 - margin.top - margin.bottom;\n\n      const svg2 = d3.select(graphElement2.current);\n      const svg3 = d3.select(graphElement3.current);\n      const svg4 = d3.select(graphElement4.current);\n\n      const x = d3\n        .scaleTime()\n        .domain(\n          d3.extent(data, function (d) {\n            return new Date(d['date'] + '2020');\n          })\n        )\n        .range([0, width]);\n\n      const y1 = d3\n        .scaleLinear()\n        .domain([\n          0,\n          d3.max(data, function (d) {\n            return +d['dailyconfirmed'];\n          }),\n        ])\n        .range([height, 0]);\n\n      const path1 = svg1\n        .append('path')\n        .datum(data)\n        .attr('fill', 'none')\n        .attr('stroke', '#ff073a99')\n        .attr('stroke-width', 3)\n        .attr('cursor', 'pointer')\n        .attr(\n          'd',\n          d3\n            .line()\n            .x(function (d) {\n              return x(new Date(d['date'] + '2020'));\n            })\n            .y(function (d, i) {\n              return y1(d['dailyconfirmed']);\n            })\n            .curve(d3.curveCardinal)\n        );\n\n      const totalLength1 = path1.node().getTotalLength();\n      path1\n        .attr('stroke-dasharray', totalLength1 + ' ' + totalLength1)\n        .attr('stroke-dashoffset', totalLength1)\n        .transition()\n        .duration(props.animate ? 2000 : 0)\n        .attr('stroke-dashoffset', 0);\n\n      svg1\n        .selectAll('.dot')\n        .data(data.slice(data.length - 1))\n        .enter()\n        .append('circle')\n        .attr('fill', '#ff073a')\n        .attr('stroke', '#ff073a')\n        .attr('r', 2)\n        .attr('cursor', 'pointer')\n        .attr('cx', function (d) {\n          return x(new Date(d['date'] + '2020'));\n        })\n        .attr('cy', function (d) {\n          return y1(d['dailyconfirmed']);\n        })\n        .on('mouseover', (d) => {\n          d3.select(d3.event.target).attr('r', '5');\n        })\n        .on('mouseout', (d) => {\n          d3.select(d3.event.target).attr('r', '2');\n        })\n        .style('opacity', 0)\n        .transition()\n        .duration(props.animate ? 3000 : 0)\n        .style('opacity', 1);\n\n      const path2 = svg2\n        .append('path')\n        .datum(data)\n        .attr('fill', 'none')\n        .attr('cursor', 'pointer')\n        .attr('stroke', '#007bff99')\n        .attr('stroke-width', 3)\n        .attr('cursor', 'pointer')\n        .attr('cursor', 'pointer')\n        .attr(\n          'd',\n          d3\n            .line()\n            .x(function (d) {\n              return x(new Date(d['date'] + '2020'));\n            })\n            .y(function (d, i) {\n              if (i === 0) {\n                return y1(\n                  d['dailyconfirmed'] - d['dailyrecovered'] - d['dailydeceased']\n                );\n              } else {\n                return y1(\n                  d['dailyconfirmed'] - d['dailyrecovered'] - d['dailydeceased']\n                );\n              }\n            })\n            .curve(d3.curveCardinal)\n        );\n\n      const totalLength2 = path2.node().getTotalLength();\n      path2\n        .attr('stroke-dasharray', totalLength2 + ' ' + totalLength2)\n        .attr('stroke-dashoffset', totalLength2)\n        .transition()\n        .duration(props.animate ? 2000 : 0)\n        .attr('stroke-dashoffset', 0);\n\n      svg2\n        .selectAll('.dot')\n        .data(data.slice(data.length - 1))\n        .enter()\n        .append('circle')\n        .attr('fill', '#007bff')\n        .attr('stroke', '#007bff')\n        .attr('r', 2)\n        .attr('cursor', 'pointer')\n        .attr('cx', function (d) {\n          return x(new Date(d['date'] + '2020'));\n        })\n        .attr('cy', function (d) {\n          /* const today =\n          data[data.length - 1]['dailyconfirmed'] -\n          data[data.length - 1]['dailyrecovered'] -\n          data[data.length - 1]['dailydeceased'];\n        const yesterday =\n          data[data.length - 2]['dailyconfirmed'] -\n          data[data.length - 2]['dailyrecovered'] -\n          data[data.length - 2]['dailydeceased'];*/\n          return y1(\n            d['dailyconfirmed'] - d['dailyrecovered'] - d['dailydeceased']\n          );\n        })\n        .on('mouseover', (d) => {\n          d3.select(d3.event.target).attr('r', '5');\n        })\n        .on('mouseout', (d) => {\n          d3.select(d3.event.target).attr('r', '2');\n        })\n        .style('opacity', 0)\n        .transition()\n        .duration(props.animate ? 3000 : 0)\n        .style('opacity', 1);\n\n      const path3 = svg3\n        .append('path')\n        .datum(data)\n        .attr('fill', 'none')\n        .attr('stroke', '#28a74599')\n        .attr('stroke-width', 3)\n        .attr('cursor', 'pointer')\n        .attr(\n          'd',\n          d3\n            .line()\n            .x(function (d) {\n              return x(new Date(d['date'] + '2020'));\n            })\n            .y(function (d, i) {\n              if (i === 0) {\n                return y1(d['dailyrecovered']);\n              } else {\n                return y1(d['dailyrecovered']);\n              }\n            })\n            .curve(d3.curveCardinal)\n        );\n\n      const totalLength3 = path1.node().getTotalLength();\n      path3\n        .attr('stroke-dasharray', totalLength3 + ' ' + totalLength3)\n        .attr('stroke-dashoffset', totalLength3)\n        .transition()\n        .duration(props.animate ? 2000 : 0)\n        .attr('stroke-dashoffset', 0);\n\n      svg3\n        .selectAll('.dot')\n        .data(data.slice(data.length - 1))\n        .enter()\n        .append('circle')\n        .attr('fill', '#28a745')\n        .attr('stroke', '#28a745')\n        .attr('r', 2)\n        .attr('cursor', 'pointer')\n        .attr('cx', function (d) {\n          return x(new Date(d['date'] + '2020'));\n        })\n        .attr('cy', function (d) {\n          return y1(d['dailyrecovered']);\n        })\n        .on('mouseover', (d) => {\n          d3.select(d3.event.target).attr('r', '5');\n        })\n        .on('mouseout', (d) => {\n          d3.select(d3.event.target).attr('r', '2');\n        })\n        .style('opacity', 0)\n        .transition()\n        .duration(props.animate ? 3000 : 0)\n        .style('opacity', 1);\n\n      const path4 = svg4\n        .append('path')\n        .datum(data)\n        .attr('fill', 'none')\n        .attr('cursor', 'pointer')\n        .attr('stroke', '#6c757d99')\n        .attr('stroke-width', 3)\n        .attr('cursor', 'pointer')\n        .attr('cursor', 'pointer')\n        .attr(\n          'd',\n          d3\n            .line()\n            .x(function (d) {\n              return x(new Date(d['date'] + '2020'));\n            })\n            .y(function (d, i) {\n              if (i === 0) {\n                return y1(d['dailydeceased']);\n              } else {\n                return y1(d['dailydeceased']);\n              }\n            })\n            .curve(d3.curveCardinal)\n        );\n\n      const totalLength4 = path4.node().getTotalLength();\n      path4\n        .attr('stroke-dasharray', totalLength4 + ' ' + totalLength4)\n        .attr('stroke-dashoffset', totalLength4)\n        .transition()\n        .duration(props.animate ? 2000 : 0)\n        .attr('stroke-dashoffset', 0);\n\n      svg4\n        .selectAll('.dot')\n        .data(data.slice(data.length - 1))\n        .enter()\n        .append('circle')\n        .attr('fill', '#6c757d')\n        .attr('stroke', '#6c757d')\n        .attr('r', 2)\n        .attr('cursor', 'pointer')\n        .attr('cx', function (d) {\n          return x(new Date(d['date'] + '2020'));\n        })\n        .attr('cy', function (d) {\n          return y1(d['dailydeceased']);\n        })\n        .on('mouseover', (d) => {\n          d3.select(d3.event.target).attr('r', '5');\n        })\n        .on('mouseout', (d) => {\n          d3.select(d3.event.target).attr('r', '2');\n        })\n        .style('opacity', 0)\n        .transition()\n        .duration(props.animate ? 3000 : 0)\n        .style('opacity', 1);\n    },\n    [props.animate]\n  );\n\n  useEffect(() => {\n    graphData(timeseries);\n  }, [timeseries, graphData]);\n\n  return (\n    <div className=\"Minigraph\">\n      <div className=\"svg-parent fadeInUp\" style={{animationDelay: '0.6s'}}>\n        <svg\n          ref={graphElement1}\n          width=\"100\"\n          height=\"100\"\n          viewBox=\"0 0 100 100\"\n          preserveAspectRatio=\"xMidYMid meet\"\n        />\n      </div>\n\n      <div\n        className=\"svg-parent is-blue fadeInUp\"\n        style={{animationDelay: '0.7s'}}\n      >\n        <svg\n          ref={graphElement2}\n          width=\"100\"\n          height=\"100\"\n          viewBox=\"0 0 100 100\"\n          preserveAspectRatio=\"xMidYMid meet\"\n        />\n      </div>\n\n      <div\n        className=\"svg-parent is-green fadeInUp\"\n        style={{animationDelay: '0.8s'}}\n      >\n        <svg\n          ref={graphElement3}\n          width=\"100\"\n          height=\"100\"\n          viewBox=\"0 0 100 100\"\n          preserveAspectRatio=\"xMidYMid meet\"\n        />\n      </div>\n\n      <div\n        className=\"svg-parent is-gray fadeInUp\"\n        style={{animationDelay: '0.9s'}}\n      >\n        <svg\n          ref={graphElement4}\n          width=\"100\"\n          height=\"100\"\n          viewBox=\"0 0 100 100\"\n          preserveAspectRatio=\"xMidYMid meet\"\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default Minigraph;\n"]},"metadata":{},"sourceType":"module"}