{"ast":null,"code":"var _jsxFileName = \"/Users/s0g03gv/Documents/MOM/covid19india-react/src/components/table.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Row from './row';\n\nfunction Table(props) {\n  const [states, setStates] = useState(props.states);\n  const [revealedStates, setRevealedStates] = useState({});\n  const [districts, setDistricts] = useState({});\n  const [count, setCount] = useState(0);\n  const [sortData, setSortData] = useState({\n    sortColumn: localStorage.getItem('state.sortColumn') ? localStorage.getItem('state.sortColumn') : 'confirmed',\n    isAscending: localStorage.getItem('state.isAscending') ? localStorage.getItem('state.isAscending') === 'true' : false\n  });\n  useEffect(() => {\n    if (props.summary === true) {\n      setStates(props.states.slice(0, 9));\n    } else {\n      setStates(props.states);\n    }\n  }, [props.states, props.summary]);\n  useEffect(() => {\n    if (props.states[0]) {\n      setRevealedStates(props.states.reduce((a, state) => {\n        return { ...a,\n          [state.state]: false\n        };\n      }, {}));\n    }\n  }, [props.states]);\n  useEffect(() => {\n    if (states.length > 0) {\n      // slice to ignore the first item which is the total count\n      setCount(states.slice(1).filter(s => s && s.confirmed > 0).length);\n    }\n  }, [states]);\n  useEffect(() => {\n    setDistricts(props.stateDistrictWiseData);\n  }, [props.stateDistrictWiseData]);\n\n  const doSort = (e, props) => {\n    const totalRow = states.splice(0, 1);\n    states.sort((StateData1, StateData2) => {\n      const sortColumn = sortData.sortColumn;\n      let value1 = StateData1[sortColumn];\n      let value2 = StateData2[sortColumn];\n\n      if (sortColumn !== 'state') {\n        value1 = parseInt(StateData1[sortColumn]);\n        value2 = parseInt(StateData2[sortColumn]);\n      }\n\n      if (sortData.isAscending) {\n        return value1 > value2 ? 1 : value1 === value2 && StateData1['state'] > StateData2['state'] ? 1 : -1;\n      } else {\n        return value1 < value2 ? 1 : value1 === value2 && StateData1['state'] > StateData2['state'] ? 1 : -1;\n      }\n    });\n    states.unshift(totalRow[0]);\n  };\n\n  const handleSort = (e, props) => {\n    const currentsortColumn = e.currentTarget.querySelector('abbr').getAttribute('title').toLowerCase();\n    const isAscending = sortData.sortColumn === currentsortColumn ? !sortData.isAscending : sortData.sortColumn === 'state';\n    setSortData({\n      sortColumn: currentsortColumn,\n      isAscending: isAscending\n    });\n    localStorage.setItem('state.sortColumn', currentsortColumn);\n    localStorage.setItem('state.isAscending', isAscending);\n  };\n\n  const handleReveal = state => {\n    setRevealedStates({ ...revealedStates,\n      [state]: !revealedStates[state]\n    });\n  };\n\n  doSort();\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"table-fineprint fadeInUp\",\n    style: {\n      animationDelay: '1s'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, \"Compiled from State Govt. numbers \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/faq\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 43\n    }\n  }, \"Know More\")), /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table fadeInUp\",\n    style: {\n      animationDelay: '1s'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"sticky state-heading\",\n    onClick: e => handleSort(e, props),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"heading-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"abbr\", {\n    title: \"State\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, \"State/UT\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: sortData.sortColumn === 'state' ? 'initial' : 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, sortData.isAscending ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrow-up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrow-down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"sticky\",\n    onClick: e => handleSort(e, props),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"heading-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"abbr\", {\n    className: `${window.innerWidth <= 769 ? 'is-cherry' : ''}`,\n    title: \"Confirmed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, window.innerWidth <= 769 ? window.innerWidth <= 375 ? 'C' : 'Cnfmd' : 'Confirmed'), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: sortData.sortColumn === 'confirmed' ? 'initial' : 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }\n  }, sortData.isAscending ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrow-up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrow-down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"sticky\",\n    onClick: e => handleSort(e, props),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"heading-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"abbr\", {\n    className: `${window.innerWidth <= 769 ? 'is-blue' : ''}`,\n    title: \"Active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 17\n    }\n  }, window.innerWidth <= 769 ? window.innerWidth <= 375 ? 'A' : 'Actv' : 'Active'), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: sortData.sortColumn === 'active' ? 'initial' : 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 17\n    }\n  }, sortData.isAscending ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrow-up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrow-down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"sticky\",\n    onClick: e => handleSort(e, props),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"heading-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"abbr\", {\n    className: `${window.innerWidth <= 769 ? 'is-green' : ''}`,\n    title: \"Recovered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 17\n    }\n  }, window.innerWidth <= 769 ? window.innerWidth <= 375 ? 'R' : 'Rcvrd' : 'Recovered'), /*#__PURE__*/React.createElement(\"div\", {\n    className: sortData.sortColumn === 'recovered' ? 'sort-black' : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: sortData.sortColumn === 'recovered' ? 'initial' : 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 17\n    }\n  }, sortData.isAscending ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrow-up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrow-down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"sticky\",\n    onClick: e => handleSort(e, props),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"heading-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"abbr\", {\n    className: `${window.innerWidth <= 769 ? 'is-gray' : ''}`,\n    title: \"Deaths\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 17\n    }\n  }, window.innerWidth <= 769 ? window.innerWidth <= 375 ? 'D' : 'Dcsd' : 'Deceased'), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: sortData.sortColumn === 'deaths' ? 'initial' : 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 17\n    }\n  }, sortData.isAscending ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrow-up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrow-down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 21\n    }\n  })))))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 9\n    }\n  }, states.map((state, index) => {\n    if (index !== 0 && state.confirmed > 0) {\n      return /*#__PURE__*/React.createElement(Row, {\n        key: index,\n        index: index,\n        state: state,\n        total: false,\n        reveal: revealedStates[state.state],\n        districts: Object.keys(districts).length - 1 > 0 ? districts[state.state].districtData : [],\n        onHighlightState: props.onHighlightState,\n        onHighlightDistrict: props.onHighlightDistrict,\n        handleReveal: handleReveal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 17\n        }\n      });\n    }\n\n    return null;\n  })), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 9\n    }\n  }, states.length > 1 && props.summary === false && /*#__PURE__*/React.createElement(Row, {\n    key: 0,\n    state: states[0],\n    total: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"table-fineprint fadeInUp\",\n    style: {\n      animationDelay: '1s'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }\n  }, count, \" States/UTS Affected\"));\n}\n\nexport default Table;","map":{"version":3,"sources":["/Users/s0g03gv/Documents/MOM/covid19india-react/src/components/table.js"],"names":["React","useState","useEffect","Link","Row","Table","props","states","setStates","revealedStates","setRevealedStates","districts","setDistricts","count","setCount","sortData","setSortData","sortColumn","localStorage","getItem","isAscending","summary","slice","reduce","a","state","length","filter","s","confirmed","stateDistrictWiseData","doSort","e","totalRow","splice","sort","StateData1","StateData2","value1","value2","parseInt","unshift","handleSort","currentsortColumn","currentTarget","querySelector","getAttribute","toLowerCase","setItem","handleReveal","animationDelay","display","window","innerWidth","map","index","Object","keys","districtData","onHighlightState","onHighlightDistrict"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\n\nimport Row from './row';\n\nfunction Table(props) {\n  const [states, setStates] = useState(props.states);\n  const [revealedStates, setRevealedStates] = useState({});\n  const [districts, setDistricts] = useState({});\n  const [count, setCount] = useState(0);\n  const [sortData, setSortData] = useState({\n    sortColumn: localStorage.getItem('state.sortColumn')\n      ? localStorage.getItem('state.sortColumn')\n      : 'confirmed',\n    isAscending: localStorage.getItem('state.isAscending')\n      ? localStorage.getItem('state.isAscending') === 'true'\n      : false,\n  });\n\n  useEffect(() => {\n    if (props.summary === true) {\n      setStates(props.states.slice(0, 9));\n    } else {\n      setStates(props.states);\n    }\n  }, [props.states, props.summary]);\n\n  useEffect(() => {\n    if (props.states[0]) {\n      setRevealedStates(\n        props.states.reduce((a, state) => {\n          return {...a, [state.state]: false};\n        }, {})\n      );\n    }\n  }, [props.states]);\n\n  useEffect(() => {\n    if (states.length > 0) {\n      // slice to ignore the first item which is the total count\n      setCount(states.slice(1).filter((s) => s && s.confirmed > 0).length);\n    }\n  }, [states]);\n\n  useEffect(() => {\n    setDistricts(props.stateDistrictWiseData);\n  }, [props.stateDistrictWiseData]);\n\n  const doSort = (e, props) => {\n    const totalRow = states.splice(0, 1);\n    states.sort((StateData1, StateData2) => {\n      const sortColumn = sortData.sortColumn;\n      let value1 = StateData1[sortColumn];\n      let value2 = StateData2[sortColumn];\n\n      if (sortColumn !== 'state') {\n        value1 = parseInt(StateData1[sortColumn]);\n        value2 = parseInt(StateData2[sortColumn]);\n      }\n\n      if (sortData.isAscending) {\n        return value1 > value2\n          ? 1\n          : value1 === value2 && StateData1['state'] > StateData2['state']\n          ? 1\n          : -1;\n      } else {\n        return value1 < value2\n          ? 1\n          : value1 === value2 && StateData1['state'] > StateData2['state']\n          ? 1\n          : -1;\n      }\n    });\n    states.unshift(totalRow[0]);\n  };\n\n  const handleSort = (e, props) => {\n    const currentsortColumn = e.currentTarget\n      .querySelector('abbr')\n      .getAttribute('title')\n      .toLowerCase();\n    const isAscending =\n      sortData.sortColumn === currentsortColumn\n        ? !sortData.isAscending\n        : sortData.sortColumn === 'state';\n    setSortData({\n      sortColumn: currentsortColumn,\n      isAscending: isAscending,\n    });\n    localStorage.setItem('state.sortColumn', currentsortColumn);\n    localStorage.setItem('state.isAscending', isAscending);\n  };\n\n  const handleReveal = (state) => {\n    setRevealedStates({\n      ...revealedStates,\n      [state]: !revealedStates[state],\n    });\n  };\n\n  doSort();\n\n  return (\n    <React.Fragment>\n      <h5 className=\"table-fineprint fadeInUp\" style={{animationDelay: '1s'}}>\n        Compiled from State Govt. numbers <Link to=\"/faq\">Know More</Link>\n      </h5>\n      <table className=\"table fadeInUp\" style={{animationDelay: '1s'}}>\n        <thead>\n          <tr>\n            <th\n              className=\"sticky state-heading\"\n              onClick={(e) => handleSort(e, props)}\n            >\n              <div className=\"heading-content\">\n                <abbr title=\"State\">State/UT</abbr>\n                <div\n                  style={{\n                    display:\n                      sortData.sortColumn === 'state' ? 'initial' : 'none',\n                  }}\n                >\n                  {sortData.isAscending ? (\n                    <div className=\"arrow-up\" />\n                  ) : (\n                    <div className=\"arrow-down\" />\n                  )}\n                </div>\n              </div>\n            </th>\n            <th className=\"sticky\" onClick={(e) => handleSort(e, props)}>\n              <div className=\"heading-content\">\n                <abbr\n                  className={`${window.innerWidth <= 769 ? 'is-cherry' : ''}`}\n                  title=\"Confirmed\"\n                >\n                  {window.innerWidth <= 769\n                    ? window.innerWidth <= 375\n                      ? 'C'\n                      : 'Cnfmd'\n                    : 'Confirmed'}\n                </abbr>\n                <div\n                  style={{\n                    display:\n                      sortData.sortColumn === 'confirmed' ? 'initial' : 'none',\n                  }}\n                >\n                  {sortData.isAscending ? (\n                    <div className=\"arrow-up\" />\n                  ) : (\n                    <div className=\"arrow-down\" />\n                  )}\n                </div>\n              </div>\n            </th>\n            <th className=\"sticky\" onClick={(e) => handleSort(e, props)}>\n              <div className=\"heading-content\">\n                <abbr\n                  className={`${window.innerWidth <= 769 ? 'is-blue' : ''}`}\n                  title=\"Active\"\n                >\n                  {window.innerWidth <= 769\n                    ? window.innerWidth <= 375\n                      ? 'A'\n                      : 'Actv'\n                    : 'Active'}\n                </abbr>\n                <div\n                  style={{\n                    display:\n                      sortData.sortColumn === 'active' ? 'initial' : 'none',\n                  }}\n                >\n                  {sortData.isAscending ? (\n                    <div className=\"arrow-up\" />\n                  ) : (\n                    <div className=\"arrow-down\" />\n                  )}\n                </div>\n              </div>\n            </th>\n            <th className=\"sticky\" onClick={(e) => handleSort(e, props)}>\n              <div className=\"heading-content\">\n                <abbr\n                  className={`${window.innerWidth <= 769 ? 'is-green' : ''}`}\n                  title=\"Recovered\"\n                >\n                  {window.innerWidth <= 769\n                    ? window.innerWidth <= 375\n                      ? 'R'\n                      : 'Rcvrd'\n                    : 'Recovered'}\n                </abbr>\n                <div\n                  className={\n                    sortData.sortColumn === 'recovered' ? 'sort-black' : ''\n                  }\n                ></div>\n                <div\n                  style={{\n                    display:\n                      sortData.sortColumn === 'recovered' ? 'initial' : 'none',\n                  }}\n                >\n                  {sortData.isAscending ? (\n                    <div className=\"arrow-up\" />\n                  ) : (\n                    <div className=\"arrow-down\" />\n                  )}\n                </div>\n              </div>\n            </th>\n            <th className=\"sticky\" onClick={(e) => handleSort(e, props)}>\n              <div className=\"heading-content\">\n                <abbr\n                  className={`${window.innerWidth <= 769 ? 'is-gray' : ''}`}\n                  title=\"Deaths\"\n                >\n                  {window.innerWidth <= 769\n                    ? window.innerWidth <= 375\n                      ? 'D'\n                      : 'Dcsd'\n                    : 'Deceased'}\n                </abbr>\n                <div\n                  style={{\n                    display:\n                      sortData.sortColumn === 'deaths' ? 'initial' : 'none',\n                  }}\n                >\n                  {sortData.isAscending ? (\n                    <div className=\"arrow-up\" />\n                  ) : (\n                    <div className=\"arrow-down\" />\n                  )}\n                </div>\n              </div>\n            </th>\n          </tr>\n        </thead>\n\n        <tbody>\n          {states.map((state, index) => {\n            if (index !== 0 && state.confirmed > 0) {\n              return (\n                <Row\n                  key={index}\n                  index={index}\n                  state={state}\n                  total={false}\n                  reveal={revealedStates[state.state]}\n                  districts={\n                    Object.keys(districts).length - 1 > 0\n                      ? districts[state.state].districtData\n                      : []\n                  }\n                  onHighlightState={props.onHighlightState}\n                  onHighlightDistrict={props.onHighlightDistrict}\n                  handleReveal={handleReveal}\n                />\n              );\n            }\n            return null;\n          })}\n        </tbody>\n\n        <tbody>\n          {states.length > 1 && props.summary === false && (\n            <Row key={0} state={states[0]} total={true} />\n          )}\n        </tbody>\n      </table>\n      <h5 className=\"table-fineprint fadeInUp\" style={{animationDelay: '1s'}}>\n        {count} States/UTS Affected\n      </h5>\n    </React.Fragment>\n  );\n}\n\nexport default Table;\n"]},"metadata":{},"sourceType":"module"}